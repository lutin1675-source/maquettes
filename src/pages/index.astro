---
import Layout from '../layouts/Layout.astro';
import SiteChrome from '../components/SiteChrome.astro';
import { getAllModels } from '../lib/models';

const models = getAllModels();
const base = import.meta.env.BASE_URL || '/';
---

<Layout title="Tonton Marquette" description="Catalogue documenté de maquettes statiques.">
<SiteChrome>
	<section class="hero">
		<div>
			<p class="eyebrow">Atelier Tonton Marquette</p>
			<h1>Documentation experte pour maquettes statiques</h1>
			<p>
				Chaque fiche synthétise le contexte du modèle réel, l’inventaire du matériel indispensable,
				les visuels de référence et les gestes atelier. Nous documentons chaque point à partir de notices constructeur,
				retours IPMS ou clubs de maquettistes et archives de compagnies aériennes.
			</p>
			<div class="hero-cta">
				<a class="btn" href={`${base}models/${models[0]?.slug ?? ''}/`}>Consulter une fiche</a>
				<span>Catalogue mis à jour au fil des montages</span>
			</div>
		</div>
		<div class="hero-panel">
			<h2>Méthode éditoriale</h2>
			<ol>
				<li>Recherche historique : dossiers constructeur, archives d’unités, compagnies civiles.</li>
				<li>Recensement des teintes et produits réellement disponibles en France/UE.</li>
				<li>Analyse des montages publiés (IPMS, Britmodeller, réseaux de clubs).</li>
				<li>Compilation des visuels et synthèse en checklist claire.</li>
			</ol>
		</div>
	</section>

	<section class="info-grid">
		<article>
			<h3>Historique fiable</h3>
			<p>
				Chaque fiche replace la maquette dans l’histoire du programme réel : dates clés, évolutions techniques, compagnies
				utilisatrices, points particuliers de la version reproduite.
			</p>
		</article>
		<article>
			<h3>Matériel validé</h3>
			<p>
				Les peintures, colles, mastics et consommables sont croisés avec les notices Revell, Gunze, AK ou Mr Hobby.
				Les correspondances FS/RAL sont précisées quand disponibles.
			</p>
		</article>
		<article>
			<h3>Visuels fiables</h3>
			<p>
				Nous pointons vers des sources licenciées (Wikimedia, photothèques officielles, plans constructeur, photos spotters)
				pour identifier détails, antennes, usure et marquages.
			</p>
		</article>
		<article>
			<h3>Conseils atelier</h3>
			<p>
				Lecture des retours de montages, corrections recommandées, séquences de peinture éprouvées :
				tout est synthétisé pour éviter les pièges connus.
			</p>
		</article>
	</section>

	<section>
		<div class="section-head">
			<h2>Catalogue disponible</h2>
			<p class="muted">D’autres références rejoignent régulièrement cette sélection, selon les montages en cours.</p>
		</div>
		<div class="model-grid">
			{models.map((model) => (
				<article class="model-card">
					<div>
						<p class="eyebrow">{model.manufacturer || 'Maquette'}</p>
						<h2>{model.modelName}</h2>
						{model.reference && <p class="muted">Référence {model.reference}</p>}
						<p>{model.summary || 'Consulte la fiche pour découvrir le contenu complet.'}</p>
					</div>
					<a class="btn" href={`${base}models/${model.slug}/`}>Voir la fiche</a>
				</article>
			))}
		</div>
	</section>

	<section class="workflow">
		<div>
			<h2>Étendre le catalogue</h2>
			<p>Envie de documenter une nouvelle référence (Revell, Zvezda, résine artisanale) ?</p>
			<ul>
				<li>Créer un dossier dans <code>/models</code></li>
				<li>Renseigner les 5 fichiers Markdown (historique, matériel, visuels, tips, synthèse)</li>
				<li>Valider les sources (notices, walkarounds, retours de montage)</li>
				<li>Soumettre la fiche pour relecture et publication</li>
			</ul>
		</div>
		<div class="workflow-panel">
			<h3>Service éditorial</h3>
			<p>
				Chaque fiche est relue pour garantir cohérence, orthographe et exactitude technique.
				Nous suivons les retours des lecteurs pour enrichir les sections matériel ou tips.
			</p>
			<p>
				Le site est conçu pour être consulté sur un banc d’atelier, tablette ou smartphone,
				pour rester accessible pendant les sessions de montage.
			</p>
		</div>
	</section>
</SiteChrome>
</Layout>
